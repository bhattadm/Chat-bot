{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kusha\\\\desktop\\\\student--bhattadm\\\\work\\\\react-chat\\\\react-chat-server\\\\src\\\\ShowStuff.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { fetchEndSession, fetchCheckSession, fetchGetChat, fetchSendMessage } from './services';\nimport ChatUserList from './ChatUserList';\nimport ChatMessageList from './ChatMessageList';\nimport ChatOutgoing from './ChatOutgoing';\n\nconst ShowStuff = ({\n  username\n}) => {\n  _s();\n\n  const [userList, setUserList] = useState('');\n  const [messageList, setMessageList] = useState('');\n  const [error, setError] = useState('');\n  useEffect(() => {\n    renderChat({\n      setMessageList\n    });\n    const intervalId = setInterval(() => {\n      renderChat({\n        setMessageList\n      });\n    }, 5000);\n    return function cleanup() {\n      clearInterval(intervalId);\n    };\n  }, []);\n\n  const renderChat = ({\n    setMessageList\n  }) => {\n    fetchGetChat().then(chatList => {\n      setUserList(chatList.userList);\n      setMessageList(chatList.messageList);\n    }).catch(err => {\n      setError(err.error);\n    });\n  };\n\n  const usercontent = /*#__PURE__*/_jsxDEV(ChatUserList, {\n    userList: userList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 24\n  }, this);\n\n  const messagecontent = /*#__PURE__*/_jsxDEV(ChatMessageList, {\n    messageList: messageList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 25\n  }, this);\n\n  const outgoingcontent = /*#__PURE__*/_jsxDEV(ChatOutgoing, {\n    username: username,\n    renderChat: renderChat,\n    setMessageList: setMessageList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 26\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"display-panel\",\n    children: [usercontent, messagecontent, outgoingcontent]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShowStuff, \"xEEvTZ+PO9JZKMccuBhe5qcfRdE=\");\n\n_c = ShowStuff;\nexport default ShowStuff;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowStuff\");","map":{"version":3,"sources":["C:/Users/kusha/desktop/student--bhattadm/work/react-chat/react-chat-server/src/ShowStuff.jsx"],"names":["useEffect","useState","fetchEndSession","fetchCheckSession","fetchGetChat","fetchSendMessage","ChatUserList","ChatMessageList","ChatOutgoing","ShowStuff","username","userList","setUserList","messageList","setMessageList","error","setError","renderChat","intervalId","setInterval","cleanup","clearInterval","then","chatList","catch","err","usercontent","messagecontent","outgoingcontent"],"mappings":";;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,eAAT,EAA0BC,iBAA1B,EAA6CC,YAA7C,EAA0DC,gBAA1D,QAAkF,YAAlF;AACC,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAED,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAGlC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACc,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,EAAD,CAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAI;AACZiB,IAAAA,UAAU,CAAC;AAACH,MAAAA;AAAD,KAAD,CAAV;AACA,UAAMI,UAAU,GAAGC,WAAW,CAAC,MAAM;AACnCF,MAAAA,UAAU,CAAC;AAACH,QAAAA;AAAD,OAAD,CAAV;AACD,KAF6B,EAE3B,IAF2B,CAA9B;AAGA,WAAO,SAASM,OAAT,GAAmB;AACxBC,MAAAA,aAAa,CAACH,UAAD,CAAb;AACD,KAFD;AAGD,GARQ,EAQP,EARO,CAAT;;AAUA,QAAMD,UAAU,GAAG,CAAC;AAACH,IAAAA;AAAD,GAAD,KAAoB;AACrCV,IAAAA,YAAY,GACXkB,IADD,CACOC,QAAD,IAAY;AAChBX,MAAAA,WAAW,CAACW,QAAQ,CAACZ,QAAV,CAAX;AACAG,MAAAA,cAAc,CAACS,QAAQ,CAACV,WAAV,CAAd;AACD,KAJD,EAKCW,KALD,CAKQC,GAAD,IAAS;AACdT,MAAAA,QAAQ,CAACS,GAAG,CAACV,KAAL,CAAR;AACH,KAPC;AAQH,GATC;;AAWD,QAAMW,WAAW,gBAAK,QAAC,YAAD;AAAc,IAAA,QAAQ,EAAIf;AAA1B;AAAA;AAAA;AAAA;AAAA,UAAtB;;AACA,QAAMgB,cAAc,gBAAG,QAAC,eAAD;AAAiB,IAAA,WAAW,EAAId;AAAhC;AAAA;AAAA;AAAA;AAAA,UAAvB;;AACA,QAAMe,eAAe,gBAAG,QAAC,YAAD;AAAc,IAAA,QAAQ,EAAIlB,QAA1B;AAAoC,IAAA,UAAU,EAAEO,UAAhD;AAA4D,IAAA,cAAc,EAAEH;AAA5E;AAAA;AAAA;AAAA;AAAA,UAAxB;;AAEC,sBACE;AAAK,IAAA,KAAK,EAAG,eAAb;AAAA,eACCY,WADD,EAECC,cAFD,EAGCC,eAHD;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CAvCD;;GAAMnB,S;;KAAAA,S;AAwCN,eAAeA,SAAf","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { fetchEndSession, fetchCheckSession, fetchGetChat,fetchSendMessage } from './services';\r\n import ChatUserList from './ChatUserList';\r\n import ChatMessageList from './ChatMessageList';\r\n import ChatOutgoing from './ChatOutgoing';\r\n\r\nconst ShowStuff = ({ username }) => {\r\n\r\n \r\n  const [userList, setUserList] = useState('');\r\n  const [messageList, setMessageList] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(()=>{\r\n    renderChat({setMessageList});\r\n    const intervalId = setInterval(() => {\r\n      renderChat({setMessageList});\r\n    }, 5000);\r\n    return function cleanup() {\r\n      clearInterval(intervalId);\r\n    };\r\n  },[]);\r\n  \r\n  const renderChat = ({setMessageList})=>{\r\n    fetchGetChat()\r\n    .then((chatList)=>{\r\n      setUserList(chatList.userList)\r\n      setMessageList(chatList.messageList)\r\n    })\r\n    .catch((err) => {\r\n      setError(err.error);\r\n  });\r\n}\r\n\r\n const usercontent   = <ChatUserList userList = {userList}/>;\r\n const messagecontent = <ChatMessageList messageList = {messageList}/>;\r\n const outgoingcontent = <ChatOutgoing username = {username} renderChat={renderChat} setMessageList={setMessageList}/>;\r\n\r\n  return (\r\n    <div class = \"display-panel\">\r\n    {usercontent}\r\n    {messagecontent}\r\n    {outgoingcontent}\r\n    </div>\r\n  );\r\n};\r\nexport default ShowStuff;\r\n"]},"metadata":{},"sourceType":"module"}