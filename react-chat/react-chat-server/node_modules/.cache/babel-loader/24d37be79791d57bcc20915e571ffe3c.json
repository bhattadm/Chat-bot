{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kusha\\\\desktop\\\\student--bhattadm\\\\work\\\\react-chat\\\\react-chat-server\\\\src\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { fetchCreateSession } from './services';\n\nconst Login = function ({\n  onLogin\n}) {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [isDisabled, setIsDisabled] = useState(true);\n  const [isPending, setIsPending] = useState(false);\n  const [status, setStatus] = useState('');\n\n  const onChange = e => {\n    setStatus('');\n    setUsername(e.target.value);\n    setIsDisabled(!e.target.value);\n  };\n\n  const login = () => {\n    setIsPending(true);\n    fetchCreateSession({\n      username\n    }).then(userinfo => {\n      onLogin({\n        username\n      });\n      setStatus('');\n      setIsPending(false);\n    }).catch(err => {\n      setStatus(err.error); // TODO: convert to friendly message\n\n      setIsPending(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [status && /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"status\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"login-form\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Username:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          disabled: isPending,\n          onChange: onChange,\n          value: username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: login,\n          disabled: isDisabled || isPending,\n          children: isPending ? \"...\" : \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"if4K2exPmHJJ+B/MDQ2e6uq54/U=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/kusha/desktop/student--bhattadm/work/react-chat/react-chat-server/src/Login.jsx"],"names":["useState","fetchCreateSession","Login","onLogin","username","setUsername","isDisabled","setIsDisabled","isPending","setIsPending","status","setStatus","onChange","e","target","value","login","then","userinfo","catch","err","error"],"mappings":";;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,kBAAT,QAAmC,YAAnC;;AAEA,MAAMC,KAAK,GAAG,UAAS;AAAEC,EAAAA;AAAF,CAAT,EAAqB;AAAA;;AAC/B,QAAK,CAACC,QAAD,EAAUC,WAAV,IAAyBL,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAK,CAACM,UAAD,EAAYC,aAAZ,IAA4BP,QAAQ,CAAC,IAAD,CAAzC;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,EAAD,CAApC;;AAEA,QAAMY,QAAQ,GAAIC,CAAD,IAAO;AACtBF,IAAAA,SAAS,CAAC,EAAD,CAAT;AACAN,IAAAA,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AACAR,IAAAA,aAAa,CAAC,CAACM,CAAC,CAACC,MAAF,CAASC,KAAX,CAAb;AACD,GAJD;;AAMA,QAAMC,KAAK,GAAG,MAAM;AAClBP,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAR,IAAAA,kBAAkB,CAAC;AAAEG,MAAAA;AAAF,KAAD,CAAlB,CACCa,IADD,CACOC,QAAQ,IAAI;AACjBf,MAAAA,OAAO,CAAC;AAAEC,QAAAA;AAAF,OAAD,CAAP;AACAO,MAAAA,SAAS,CAAC,EAAD,CAAT;AACAF,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KALD,EAMCU,KAND,CAMQC,GAAG,IAAI;AACbT,MAAAA,SAAS,CAACS,GAAG,CAACC,KAAL,CAAT,CADa,CACQ;;AACrBZ,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KATD;AAUD,GAZD;;AAcA,sBACA;AAAA,eACIC,MAAM,iBAAI;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA,gBAAqBA;AAArB;AAAA;AAAA;AAAA;AAAA,YADd,eAEE;AAAK,MAAA,KAAK,EAAG,YAAb;AAAA,6BACA;AAAA,6CAEE;AAAO,UAAA,QAAQ,EAAIF,SAAnB;AAA8B,UAAA,QAAQ,EAAII,QAA1C;AAAoD,UAAA,KAAK,EAAIR;AAA7D;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAQ,UAAA,OAAO,EAAIY,KAAnB;AAA0B,UAAA,QAAQ,EAAGV,UAAU,IAAIE,SAAnD;AAAA,oBAAgEA,SAAS,GAAG,KAAH,GAAS;AAAlF;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AAYH,CAtCD;;GAAMN,K;;KAAAA,K;AAuCN,eAAeA,KAAf","sourcesContent":["import { useState } from 'react';\r\nimport { fetchCreateSession } from './services';\r\n\r\nconst Login = function({ onLogin }){\r\n    const[username,setUsername] = useState('');\r\n    const[isDisabled,setIsDisabled]= useState(true);\r\n    const [isPending, setIsPending] = useState(false);\r\n    const [status, setStatus] = useState('');\r\n\r\n    const onChange = (e) => {\r\n      setStatus('');\r\n      setUsername(e.target.value);\r\n      setIsDisabled(!e.target.value);\r\n    };\r\n\r\n    const login = () => {\r\n      setIsPending(true);\r\n      fetchCreateSession({ username })\r\n      .then( userinfo => {\r\n        onLogin({ username});\r\n        setStatus('');\r\n        setIsPending(false);\r\n      })\r\n      .catch( err => {\r\n        setStatus(err.error);// TODO: convert to friendly message\r\n        setIsPending(false);\r\n      });\r\n    };\r\n  \r\n    return (\r\n    <div>\r\n      { status && <div class=\"status\">{status}</div>}\r\n      <div class = \"login-form\">\r\n      <label>\r\n        Username:\r\n        <input disabled = {isPending} onChange = {onChange} value = {username}></input>\r\n        <button onClick = {login} disabled ={isDisabled || isPending}>{ isPending ? \"...\":\"Login\"}</button>\r\n      </label>\r\n      </div>\r\n    </div>\r\n    );\r\n};\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}