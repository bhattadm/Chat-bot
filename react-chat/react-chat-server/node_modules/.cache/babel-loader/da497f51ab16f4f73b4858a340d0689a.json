{"ast":null,"code":"import _slicedToArray from\"C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useState}from'react';import{fetchCreateSession}from'./services';var Login=function Login(_ref){var onLogin=_ref.onLogin;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isDisabled=_useState4[0],setIsDisabled=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPending=_useState6[0],setIsPending=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var onChange=function onChange(e){setUsername(e.target.value);setIsDisabled(!e.target.value);};var login=function login(){setIsPending(true);fetchCreateSession({username:username}).then(function(userinfo){setStatus('');setIsPending(false);onLogin({username:username});}).catch(function(err){setStatus(err.error);setIsPending(false);});};return/*#__PURE__*/_jsxs(\"div\",{children:[status&&/*#__PURE__*/_jsx(\"div\",{class:\"status\",children:status}),/*#__PURE__*/_jsx(\"div\",{class:\"login-form\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Username:\",/*#__PURE__*/_jsx(\"input\",{disabled:isPending,onChange:onChange,value:username}),/*#__PURE__*/_jsx(\"button\",{onClick:login,disabled:isDisabled||isPending,children:isPending?\"...\":\"Login\"})]})})]});};export default Login;","map":{"version":3,"sources":["C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/Login.jsx"],"names":["useState","fetchCreateSession","Login","onLogin","username","setUsername","isDisabled","setIsDisabled","isPending","setIsPending","status","setStatus","onChange","e","target","value","login","then","userinfo","catch","err","error"],"mappings":"yRAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,kBAAT,KAAmC,YAAnC,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAsB,IAAXC,CAAAA,OAAW,MAAXA,OAAW,eACJH,QAAQ,CAAC,EAAD,CADJ,wCAC5BI,QAD4B,eACnBC,WADmB,8BAEDL,QAAQ,CAAC,IAAD,CAFP,yCAE5BM,UAF4B,eAEjBC,aAFiB,8BAGAP,QAAQ,CAAC,KAAD,CAHR,yCAG3BQ,SAH2B,eAGhBC,YAHgB,8BAINT,QAAQ,CAAC,EAAD,CAJF,yCAI3BU,MAJ2B,eAInBC,SAJmB,eAMlC,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtBR,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACAR,aAAa,CAAC,CAACM,CAAC,CAACC,MAAF,CAASC,KAAX,CAAb,CACD,CAHD,CAKA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClBP,YAAY,CAAC,IAAD,CAAZ,CACAR,kBAAkB,CAAC,CAAEG,QAAQ,CAARA,QAAF,CAAD,CAAlB,CACCa,IADD,CACO,SAAAC,QAAQ,CAAI,CACjBP,SAAS,CAAC,EAAD,CAAT,CACAF,YAAY,CAAC,KAAD,CAAZ,CACAN,OAAO,CAAC,CAAEC,QAAQ,CAARA,QAAF,CAAD,CAAP,CACD,CALD,EAMCe,KAND,CAMQ,SAAAC,GAAG,CAAI,CACbT,SAAS,CAACS,GAAG,CAACC,KAAL,CAAT,CACAZ,YAAY,CAAC,KAAD,CAAZ,CACD,CATD,EAUD,CAZD,CAcA,mBACA,uBACIC,MAAM,eAAI,YAAK,KAAK,CAAC,QAAX,UAAqBA,MAArB,EADd,cAEE,YAAK,KAAK,CAAG,YAAb,uBACA,kDAEE,cAAO,QAAQ,CAAIF,SAAnB,CAA8B,QAAQ,CAAII,QAA1C,CAAoD,KAAK,CAAIR,QAA7D,EAFF,cAGE,eAAQ,OAAO,CAAIY,KAAnB,CAA0B,QAAQ,CAAGV,UAAU,EAAIE,SAAnD,UAAgEA,SAAS,CAAG,KAAH,CAAS,OAAlF,EAHF,GADA,EAFF,GADA,CAYD,CArCD,CAuCA,cAAeN,CAAAA,KAAf","sourcesContent":["import { useState } from 'react';\r\nimport { fetchCreateSession } from './services';\r\n\r\nconst Login = function({ onLogin }) {\r\n  const[username,setUsername] = useState('');\r\n  const[isDisabled,setIsDisabled]= useState(true);\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [status, setStatus] = useState('');\r\n\r\n  const onChange = (e) => {\r\n    setUsername(e.target.value);\r\n    setIsDisabled(!e.target.value);\r\n  };\r\n\r\n  const login = () => {\r\n    setIsPending(true);\r\n    fetchCreateSession({ username })\r\n    .then( userinfo => {\r\n      setStatus('');\r\n      setIsPending(false);\r\n      onLogin({ username});\r\n    })\r\n    .catch( err => {\r\n      setStatus(err.error);\r\n      setIsPending(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n  <div>\r\n    { status && <div class=\"status\">{status}</div>}\r\n    <div class = \"login-form\">\r\n    <label>\r\n      Username:\r\n      <input disabled = {isPending} onChange = {onChange} value = {username}></input>\r\n      <button onClick = {login} disabled ={isDisabled || isPending}>{ isPending ? \"...\":\"Login\"}</button>\r\n    </label>\r\n    </div>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}