{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kusha\\\\desktop\\\\student--bhattadm\\\\work\\\\react-chat\\\\react-chat-server\\\\src\\\\ShowStuff.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { fetchEndSession, fetchCheckSession, fetchGetChat } from './services';\nimport ChatUserList from './ChatUserList';\nimport ChatOutgoing from './ChatOutgoing';\n\nconst ShowStuff = ({\n  username\n}) => {\n  _s();\n\n  // const [userState, setUserState] = useState({ isPending: true });\n  const [userList, setUserList] = useState('');\n  const [messageList, setMessageList] = useState('');\n  const [chatList, setChatList] = useState('');\n  const [error, setError] = useState('');\n  useEffect(() => {\n    fetchGetChat().then(chatList => {\n      setUserList(chatList.userList);\n      setMessageList(chatList.messageList);\n    }).catch(err => {\n      setError(err.error);\n    });\n  }, []);\n\n  const sendmessage = function ({\n    userList,\n    messageList\n  }) {\n    setUserList(chatList.userList);\n    setMessageList(chatList.messageList);\n  };\n\n  const usercontent = /*#__PURE__*/_jsxDEV(ChatUserList, {\n    userList: userList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 23\n  }, this);\n\n  const outgoingcontent = /*#__PURE__*/_jsxDEV(ChatOutgoing, {\n    username: username,\n    messageList: messageList,\n    onSend: sendmessage\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 25\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"display-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"User:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: Object.values(userList).map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"user\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"username\",\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Messages:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: Object.values(messageList).map(message => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"messages\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"messagetext\",\n              children: [message.sender, \":\", message.text]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: message.timestamp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [statusmsg && /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"status\",\n        children: statusmsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Send Message:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          disabled: isLoading,\n          onChange: onChange,\n          value: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendmessage,\n        disabled: isGreyedout || isLoading,\n        children: isLoading ? \"...\" : \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShowStuff, \"IQlRQBxCbFoGry7zyoTmul9LzeU=\");\n\n_c = ShowStuff;\nexport default ShowStuff;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowStuff\");","map":{"version":3,"sources":["C:/Users/kusha/desktop/student--bhattadm/work/react-chat/react-chat-server/src/ShowStuff.jsx"],"names":["useEffect","useState","fetchEndSession","fetchCheckSession","fetchGetChat","ChatUserList","ChatOutgoing","ShowStuff","username","userList","setUserList","messageList","setMessageList","chatList","setChatList","error","setError","then","catch","err","sendmessage","usercontent","outgoingcontent","Object","values","map","user","message","sender","text","timestamp","statusmsg","isLoading","onChange","isGreyedout"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { fetchEndSession, fetchCheckSession, fetchGetChat } from './services';\r\nimport ChatUserList from './ChatUserList';\r\nimport ChatOutgoing from './ChatOutgoing';\r\n\r\nconst ShowStuff = ({ username }) => {\r\n\r\n  // const [userState, setUserState] = useState({ isPending: true });\r\n  const [userList, setUserList] = useState('');\r\n  const [messageList, setMessageList] = useState('');\r\n  const [chatList, setChatList] = useState('');\r\n  const [error, setError] = useState('');\r\n \r\nuseEffect (()=>{\r\n  fetchGetChat()\r\n  .then((chatList)=>{\r\n    setUserList(chatList.userList)\r\n    setMessageList(chatList.messageList)\r\n  })\r\n  .catch((err) => {\r\n    setError(err.error);\r\n});\r\n},[]);\r\n\r\n const sendmessage = function({userList,messageList}) {\r\n  setUserList(chatList.userList);\r\n  setMessageList(chatList.messageList)\r\n  };\r\n\r\nconst usercontent   = <ChatUserList userList = {userList}/>;\r\nconst outgoingcontent = <ChatOutgoing username = {username} messageList = {messageList} onSend = {sendmessage}/>;\r\n  return (\r\n    <div class = \"display-panel\">\r\n      <div>\r\n    <h3>User:</h3>\r\n    <ul>\r\n      {Object.values(userList).map( user => (\r\n        <li>\r\n            <div class=\"user\">\r\n            <span class=\"username\">{user.username}</span>\r\n            </div>\r\n        </li> ) ) }\r\n    </ul>\r\n    </div>\r\n    <div>\r\n      <h3>Messages:</h3>\r\n      <ul>\r\n        {Object.values(messageList).map( message => (\r\n          <li>\r\n          <div class=\"messages\">\r\n            <span class = \"messagetext\">{message.sender}:{message.text}</span>\r\n            <p>{message.timestamp}</p>\r\n          </div>\r\n        </li> ) ) }\r\n      </ul>\r\n      </div>\r\n      <div>\r\n        { statusmsg && <div class=\"status\">{statusmsg}</div>}\r\n        <label>\r\n          Send Message:\r\n          <input disabled={isLoading} onChange={onChange} value={text} />\r\n        </label>\r\n        <button onClick={sendmessage} disabled={isGreyedout || isLoading} >{ isLoading ? \"...\" : \"Send\"}</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ShowStuff;\r\n"]},"metadata":{},"sourceType":"module"}