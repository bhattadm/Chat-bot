{"ast":null,"code":"import _slicedToArray from\"C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useState}from'react';import{createSession}from'./services';var Login=function Login(_ref){var onLogin=_ref.onLogin;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isDisabled=_useState4[0],setIsDisabled=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPending=_useState6[0],setIsPending=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var onChange=function onChange(e){setStatus('');setUsername(e.target.value);setIsDisabled(!e.target.value);};var login=function login(){setIsPending(true);createSession({username:username}).then(function(userinfo){onLogin({username:username,userList:userinfo.userList,messageList:userinfo.messageList});setStatus('');setIsPending(false);}).catch(function(err){setStatus(err.error);// TODO: convert to friendly message\nsetIsPending(false);});};return/*#__PURE__*/_jsxs(\"div\",{children:[status&&/*#__PURE__*/_jsx(\"div\",{class:\"status\",children:status}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Username:\",/*#__PURE__*/_jsx(\"input\",{disabled:isPending,onChange:onChange,value:username}),/*#__PURE__*/_jsx(\"button\",{onClick:login,disabled:isDisabled||isPending,children:isPending?\"...\":\"Login\"})]})]});};export default Login;","map":{"version":3,"sources":["C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/Login.jsx"],"names":["useState","createSession","Login","onLogin","username","setUsername","isDisabled","setIsDisabled","isPending","setIsPending","status","setStatus","onChange","e","target","value","login","then","userinfo","userList","messageList","catch","err","error"],"mappings":"yRAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,aAAT,KAA8B,YAA9B,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAmB,IAATC,CAAAA,OAAS,MAATA,OAAS,eACCH,QAAQ,CAAC,EAAD,CADT,wCACvBI,QADuB,eACdC,WADc,8BAEIL,QAAQ,CAAC,IAAD,CAFZ,yCAEvBM,UAFuB,eAEZC,aAFY,8BAGKP,QAAQ,CAAC,KAAD,CAHb,yCAGtBQ,SAHsB,eAGXC,YAHW,8BAIDT,QAAQ,CAAC,EAAD,CAJP,yCAItBU,MAJsB,eAIdC,SAJc,eAM7B,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtBF,SAAS,CAAC,EAAD,CAAT,CACAN,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACAR,aAAa,CAAC,CAACM,CAAC,CAACC,MAAF,CAASC,KAAX,CAAb,CACD,CAJD,CAMA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClBP,YAAY,CAAC,IAAD,CAAZ,CACAR,aAAa,CAAC,CAAEG,QAAQ,CAARA,QAAF,CAAD,CAAb,CACCa,IADD,CACO,SAAAC,QAAQ,CAAI,CACjBf,OAAO,CAAC,CAAEC,QAAQ,CAARA,QAAF,CAAYe,QAAQ,CAAED,QAAQ,CAACC,QAA/B,CAAwCC,WAAW,CAACF,QAAQ,CAACE,WAA7D,CAAD,CAAP,CACAT,SAAS,CAAC,EAAD,CAAT,CACAF,YAAY,CAAC,KAAD,CAAZ,CACD,CALD,EAMCY,KAND,CAMQ,SAAAC,GAAG,CAAI,CACbX,SAAS,CAACW,GAAG,CAACC,KAAL,CAAT,CAAqB;AACrBd,YAAY,CAAC,KAAD,CAAZ,CACD,CATD,EAUD,CAZD,CAcA,mBACA,uBACIC,MAAM,eAAI,YAAK,KAAK,CAAC,QAAX,UAAqBA,MAArB,EADd,cAEE,kDAEE,cAAO,QAAQ,CAAIF,SAAnB,CAA8B,QAAQ,CAAII,QAA1C,CAAoD,KAAK,CAAIR,QAA7D,EAFF,cAGE,eAAQ,OAAO,CAAIY,KAAnB,CAA0B,QAAQ,CAAGV,UAAU,EAAIE,SAAnD,UAAgEA,SAAS,CAAG,KAAH,CAAS,OAAlF,EAHF,GAFF,GADA,CAUH,CApCD,CAqCA,cAAeN,CAAAA,KAAf","sourcesContent":["import { useState } from 'react';\r\nimport { createSession } from './services';\r\n\r\nconst Login = function({onLogin}){\r\n    const[username,setUsername] = useState('');\r\n    const[isDisabled,setIsDisabled]= useState(true);\r\n    const [isPending, setIsPending] = useState(false);\r\n    const [status, setStatus] = useState('');\r\n\r\n    const onChange = (e) => {\r\n      setStatus('');\r\n      setUsername(e.target.value);\r\n      setIsDisabled(!e.target.value);\r\n    };\r\n\r\n    const login = () => {\r\n      setIsPending(true);\r\n      createSession({ username })\r\n      .then( userinfo => {\r\n        onLogin({ username, userList: userinfo.userList,messageList:userinfo.messageList });\r\n        setStatus('');\r\n        setIsPending(false);\r\n      })\r\n      .catch( err => {\r\n        setStatus(err.error);// TODO: convert to friendly message\r\n        setIsPending(false);\r\n      });\r\n    };\r\n  \r\n    return (\r\n    <div>\r\n      { status && <div class=\"status\">{status}</div>}\r\n      <label>\r\n        Username:\r\n        <input disabled = {isPending} onChange = {onChange} value = {username}></input>\r\n        <button onClick = {login} disabled ={isDisabled || isPending}>{ isPending ? \"...\":\"Login\"}</button>\r\n      </label>\r\n    </div>\r\n    );\r\n};\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}