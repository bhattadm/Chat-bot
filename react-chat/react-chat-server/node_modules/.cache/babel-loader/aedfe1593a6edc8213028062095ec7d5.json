{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kusha\\\\desktop\\\\student--bhattadm\\\\work\\\\react-chat\\\\react-chat-server\\\\src\\\\ShowStuff.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { fetchEndSession, fetchCheckSession, fetchGetChat, fetchSendMessage } from './services'; // import ChatUserList from './ChatUserList';\n// import ChatOutgoing from './ChatOutgoing';\n\nconst ShowStuff = ({\n  username\n}) => {\n  _s();\n\n  const [userList, setUserList] = useState('');\n  const [messageList, setMessageList] = useState('');\n  const [error, setError] = useState('');\n  const [text, setText] = useState('');\n  const [isGreyedout, setisGreyedout] = useState(true);\n  const [isLoading, setisLoading] = useState(false);\n  const [statusmsg, setstatusmsg] = useState('');\n  useEffect(() => {\n    fetchGetChat().then(chatList => {\n      setUserList(chatList.userList);\n      setMessageList(chatList.messageList);\n    }).catch(err => {\n      setError(err.error);\n    }); //  getChatList();\n    // const intervalId = setInterval(() => {\n    //   getChatList();\n    // }, 5000);\n    // return function cleanup() {\n    //   clearInterval(intervalId);\n    // };\n  }, []); // const getChatList = ()=>{\n  // }\n  //  const sendmessage = function({userList,messageList}) {\n  //   setUserList(chatList.userList);\n  //   setMessageList(chatList.messageList)\n  //   };\n\n  const onChange = e => {\n    setstatusmsg('');\n    setText(e.target.value);\n    setisGreyedout(!e.target.value);\n  };\n\n  const sendmessage = () => {\n    setisLoading(true);\n    fetchSendMessage({\n      username,\n      text\n    }).then(chatList => {\n      // onSend({userList: chatList.userList, messageList:chatList.messageList });\n      setUserList(chatList.userList);\n      setMessageList(chatList.messageList);\n      setText('');\n      setstatusmsg('');\n      setisLoading(false);\n    }).catch(err => {\n      setText('');\n      setstatusmsg(err.error);\n      setisLoading(false);\n    });\n  };\n\n  const usercontent = /*#__PURE__*/_jsxDEV(ChatUserList, {\n    userList: userList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 24\n  }, this);\n\n  const outgoingcontent = /*#__PURE__*/_jsxDEV(ChatOutgoing, {\n    username: username,\n    messageList: messageList,\n    onSend: sendmessage\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 26\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"display-panel\",\n    children: [usercontent, outgoingcontent]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShowStuff, \"AqOdPPoYn08ZGG0glK2VwUf7L8s=\");\n\n_c = ShowStuff;\nexport default ShowStuff;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowStuff\");","map":{"version":3,"sources":["C:/Users/kusha/desktop/student--bhattadm/work/react-chat/react-chat-server/src/ShowStuff.jsx"],"names":["useEffect","useState","fetchEndSession","fetchCheckSession","fetchGetChat","fetchSendMessage","ShowStuff","username","userList","setUserList","messageList","setMessageList","error","setError","text","setText","isGreyedout","setisGreyedout","isLoading","setisLoading","statusmsg","setstatusmsg","then","chatList","catch","err","onChange","e","target","value","sendmessage","usercontent","outgoingcontent"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { fetchEndSession, fetchCheckSession, fetchGetChat,fetchSendMessage } from './services';\r\n// import ChatUserList from './ChatUserList';\r\n// import ChatOutgoing from './ChatOutgoing';\r\n\r\nconst ShowStuff = ({ username }) => {\r\n\r\n \r\n  const [userList, setUserList] = useState('');\r\n  const [messageList, setMessageList] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const [text, setText] = useState('');\r\n  const [isGreyedout, setisGreyedout] = useState(true);\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [statusmsg, setstatusmsg] = useState('');\r\n\r\n\r\nuseEffect (()=>{\r\n  fetchGetChat()\r\n.then((chatList)=>{\r\n  setUserList(chatList.userList)\r\n  setMessageList(chatList.messageList)\r\n})\r\n.catch((err) => {\r\n  setError(err.error);\r\n});\r\n//  getChatList();\r\n// const intervalId = setInterval(() => {\r\n//   getChatList();\r\n// }, 5000);\r\n// return function cleanup() {\r\n//   clearInterval(intervalId);\r\n// };\r\n},[]);  \r\n\r\n// const getChatList = ()=>{\r\n  \r\n// }\r\n\r\n//  const sendmessage = function({userList,messageList}) {\r\n//   setUserList(chatList.userList);\r\n//   setMessageList(chatList.messageList)\r\n//   };\r\n\r\nconst onChange = (e) => {\r\n  setstatusmsg('');\r\n  setText(e.target.value);\r\n  setisGreyedout(!e.target.value);\r\n};\r\n\r\nconst sendmessage= ()=>{\r\nsetisLoading(true);\r\nfetchSendMessage({username ,text})\r\n.then( chatList => {\r\n  // onSend({userList: chatList.userList, messageList:chatList.messageList });\r\n  setUserList(chatList.userList)\r\n  setMessageList(chatList.messageList)\r\n  setText('');\r\n  setstatusmsg('');\r\n  setisLoading(false);\r\n  \r\n})\r\n.catch( err => {\r\n    setText('');\r\n    setstatusmsg(err.error);\r\n    setisLoading(false);\r\n});\r\n};\r\n\r\n\r\n  \r\n\r\n const usercontent   = <ChatUserList userList = {userList}/>;\r\n const outgoingcontent = <ChatOutgoing username = {username} messageList = {messageList} onSend = {sendmessage}/>;\r\n  return (\r\n    <div class = \"display-panel\">\r\n    {usercontent}\r\n    {outgoingcontent}\r\n    </div>\r\n  );\r\n};\r\nexport default ShowStuff;\r\n"]},"metadata":{},"sourceType":"module"}