{"ast":null,"code":"export const checkSession = () => {\n  return fetch('/api/session', {\n    method: 'GET'\n  }).catch(() => Promise.reject({\n    error: 'network-error'\n  })).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return response.json().then(json => Promise.reject(json));\n  });\n};\nexport const createSession = ({\n  username\n}) => {\n  return fetch('/api/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({\n      username\n    })\n  }).catch(() => Promise.reject({\n    error: 'network-error'\n  })).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return response.json().then(json => Promise.reject(json));\n  });\n};\nexport const sendMessage = ({\n  username,\n  text\n}) => {\n  return fetch('/api/chat', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({\n      username,\n      text\n    })\n  }).catch(() => Promise.reject({\n    error: 'network-error'\n  })).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return response.json().then(json => Promise.reject(json));\n  });\n};\nexport const endSession = () => {\n  return fetch('/api/session', {\n    method: 'DELETE'\n  }).catch(() => Promise.reject({\n    error: 'network-error'\n  })).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return response.json().then(json => Promise.reject(json));\n  });\n};","map":{"version":3,"sources":["C:/Users/kusha/desktop/student--bhattadm/work/react-chat/react-chat-server/src/services.js"],"names":["checkSession","fetch","method","catch","Promise","reject","error","then","response","ok","json","createSession","username","headers","Headers","body","JSON","stringify","sendMessage","text","endSession"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG,MAAM;AAChC,SAAOC,KAAK,CAAC,cAAD,EAAkB;AAC5BC,IAAAA,MAAM,EAAE;AADoB,GAAlB,CAAL,CAGNC,KAHM,CAGC,MAAMC,OAAO,CAACC,MAAR,CAAe;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAf,CAHP,EAINC,IAJM,CAIAC,QAAQ,IAAI;AACjB,QAAGA,QAAQ,CAACC,EAAZ,EAAgB;AACd,aAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,WAAOF,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAsBG,IAAI,IAAIN,OAAO,CAACC,MAAR,CAAeK,IAAf,CAA9B,CAAP;AACD,GATM,CAAP;AAUD,CAXM;AAaP,OAAO,MAAMC,aAAa,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AAC3C,SAAOX,KAAK,CAAC,cAAD,EAAkB;AAC5BC,IAAAA,MAAM,EAAE,MADoB;AAE5BW,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,sBAAgB;AADG,KAAZ,CAFmB;AAK5BC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEL,MAAAA;AAAF,KAAf;AALsB,GAAlB,CAAL,CAONT,KAPM,CAOC,MAAMC,OAAO,CAACC,MAAR,CAAe;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAf,CAPP,EAQNC,IARM,CAQAC,QAAQ,IAAI;AACjB,QAAGA,QAAQ,CAACC,EAAZ,EAAgB;AACd,aAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,WAAOF,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAsBG,IAAI,IAAIN,OAAO,CAACC,MAAR,CAAeK,IAAf,CAA9B,CAAP;AACD,GAbM,CAAP;AAcD,CAfM;AAiBP,OAAO,MAAMQ,WAAW,GAAG,CAAC;AAACN,EAAAA,QAAD;AAAUO,EAAAA;AAAV,CAAD,KAAqB;AAC9C,SAAOlB,KAAK,CAAC,WAAD,EAAe;AACzBC,IAAAA,MAAM,EAAE,MADiB;AAEzBW,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,sBAAgB;AADG,KAAZ,CAFgB;AAKzBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEL,MAAAA,QAAF;AAAWO,MAAAA;AAAX,KAAf;AALmB,GAAf,CAAL,CAONhB,KAPM,CAOC,MAAMC,OAAO,CAACC,MAAR,CAAe;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAf,CAPP,EAQNC,IARM,CAQAC,QAAQ,IAAI;AACjB,QAAGA,QAAQ,CAACC,EAAZ,EAAgB;AACd,aAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,WAAOF,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAsBG,IAAI,IAAIN,OAAO,CAACC,MAAR,CAAeK,IAAf,CAA9B,CAAP;AACD,GAbM,CAAP;AAcD,CAfM;AAiBP,OAAO,MAAMU,UAAU,GAAG,MAAM;AAC9B,SAAOnB,KAAK,CAAC,cAAD,EAAkB;AAC5BC,IAAAA,MAAM,EAAE;AADoB,GAAlB,CAAL,CAGNC,KAHM,CAGC,MAAMC,OAAO,CAACC,MAAR,CAAe;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAf,CAHP,EAINC,IAJM,CAIAC,QAAQ,IAAI;AACjB,QAAGA,QAAQ,CAACC,EAAZ,EAAgB;AACd,aAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,WAAOF,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAsBG,IAAI,IAAIN,OAAO,CAACC,MAAR,CAAeK,IAAf,CAA9B,CAAP;AACD,GATM,CAAP;AAUD,CAXM","sourcesContent":["export const checkSession = () => {\r\n  return fetch('/api/session',  {\r\n    method: 'GET',\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n\r\nexport const createSession = ({username}) => {\r\n  return fetch('/api/session',  {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n    body: JSON.stringify({ username }),\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n\r\nexport const sendMessage = ({username,text}) => {\r\n  return fetch('/api/chat',  {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n    body: JSON.stringify({ username,text}),\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n\r\nexport const endSession = () => {\r\n  return fetch('/api/session',  {\r\n    method: 'DELETE',\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}