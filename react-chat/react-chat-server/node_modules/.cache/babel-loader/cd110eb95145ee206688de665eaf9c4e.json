{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kusha\\\\desktop\\\\student--bhattadm\\\\work\\\\react-chat\\\\react-chat-server\\\\src\\\\ChatOutgoing.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { fetchGetChat, fetchSendMessage } from './services';\nimport ChatMessageList from './ChatMessageList';\n\nconst ChatOutgoing = ({\n  username,\n  renderChat,\n  setMessageList\n}) => {\n  _s();\n\n  const [text, setText] = useState('');\n  const [isGreyedout, setisGreyedout] = useState(true);\n  const [isLoading, setisLoading] = useState(false);\n  const [statusmsg, setstatusmsg] = useState('');\n  const [error, setError] = useState('');\n\n  const onChange = e => {\n    setstatusmsg('');\n    setText(e.target.value);\n    setisGreyedout(!e.target.value);\n  };\n\n  const sendmessage = () => {\n    setisLoading(true);\n    fetchSendMessage({\n      username,\n      text\n    }).then(chatList => {\n      setMessageList(chatList.messageList);\n      setText('');\n      setisGreyedout(true);\n      setstatusmsg('');\n      setisLoading(false);\n      renderChat({\n        setMessageList\n      });\n    }).catch(err => {\n      setText('');\n      setstatusmsg(err.error);\n      setisLoading(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [statusmsg && /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"status\",\n      children: statusmsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Send Message:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          disabled: isLoading,\n          onChange: onChange,\n          value: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendmessage,\n        disabled: isGreyedout || isLoading,\n        children: isLoading ? \"...\" : \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ChatOutgoing, \"17KcbTv1pQXn4xqf/y3AU6qiGXU=\");\n\n_c = ChatOutgoing;\nexport default ChatOutgoing;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatOutgoing\");","map":{"version":3,"sources":["C:/Users/kusha/desktop/student--bhattadm/work/react-chat/react-chat-server/src/ChatOutgoing.jsx"],"names":["useState","useEffect","fetchGetChat","fetchSendMessage","ChatMessageList","ChatOutgoing","username","renderChat","setMessageList","text","setText","isGreyedout","setisGreyedout","isLoading","setisLoading","statusmsg","setstatusmsg","error","setError","onChange","e","target","value","sendmessage","then","chatList","messageList","catch","err"],"mappings":";;;;;AAAA,SAASA,QAAT,EAAkBC,SAAlB,QAAmC,OAAnC;AACA,SAASC,YAAT,EAAsBC,gBAAtB,QAA6C,YAA7C;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAUC,EAAAA,UAAV;AAAqBC,EAAAA;AAArB,CAAD,KAA0C;AAAA;;AAE7D,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACiB,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMmB,QAAQ,GAAIC,CAAD,IAAO;AACpBJ,IAAAA,YAAY,CAAC,EAAD,CAAZ;AACAN,IAAAA,OAAO,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACAV,IAAAA,cAAc,CAAC,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAX,CAAd;AACD,GAJH;;AAMA,QAAMC,WAAW,GAAE,MAAI;AACrBT,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAX,IAAAA,gBAAgB,CAAC;AAACG,MAAAA,QAAD;AAAWG,MAAAA;AAAX,KAAD,CAAhB,CACCe,IADD,CACOC,QAAQ,IAAI;AACjBjB,MAAAA,cAAc,CAACiB,QAAQ,CAACC,WAAV,CAAd;AACAhB,MAAAA,OAAO,CAAC,EAAD,CAAP;AACAE,MAAAA,cAAc,CAAC,IAAD,CAAd;AACAI,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACAF,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAP,MAAAA,UAAU,CAAC;AAACC,QAAAA;AAAD,OAAD,CAAV;AAED,KATD,EAUCmB,KAVD,CAUQC,GAAG,IAAI;AACXlB,MAAAA,OAAO,CAAC,EAAD,CAAP;AACAM,MAAAA,YAAY,CAACY,GAAG,CAACX,KAAL,CAAZ;AACAH,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,KAdD;AAeD,GAjBD;;AAoBE,sBACI;AAAA,eACEC,SAAS,iBAAI;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA,gBAAqBA;AAArB;AAAA;AAAA;AAAA;AAAA,YADf,eAEA;AAAK,MAAA,KAAK,EAAG,YAAb;AAAA,8BACA;AAAA,iDAEE;AAAO,UAAA,QAAQ,EAAEF,SAAjB;AAA4B,UAAA,QAAQ,EAAEM,QAAtC;AAAgD,UAAA,KAAK,EAAEV;AAAvD;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAKA;AAAQ,QAAA,OAAO,EAAEc,WAAjB;AAA8B,QAAA,QAAQ,EAAEZ,WAAW,IAAIE,SAAvD;AAAA,kBAAqEA,SAAS,GAAG,KAAH,GAAW;AAAzF;AAAA;AAAA;AAAA;AAAA,cALA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAYD,CA9CH;;GAAMR,Y;;KAAAA,Y;AAgDJ,eAAeA,YAAf","sourcesContent":["import { useState,useEffect } from 'react';\r\nimport { fetchGetChat,fetchSendMessage} from './services';\r\nimport ChatMessageList from './ChatMessageList';\r\n\r\nconst ChatOutgoing = ({username,renderChat,setMessageList}) => {\r\n  \r\n  const [text, setText] = useState('');\r\n  const [isGreyedout, setisGreyedout] = useState(true);\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [statusmsg, setstatusmsg] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const onChange = (e) => {\r\n      setstatusmsg('');\r\n      setText(e.target.value);\r\n      setisGreyedout(!e.target.value);\r\n    };\r\n    \r\n  const sendmessage= ()=>{\r\n    setisLoading(true);\r\n    fetchSendMessage({username ,text})\r\n    .then( chatList => {\r\n      setMessageList(chatList.messageList)\r\n      setText('');\r\n      setisGreyedout(true);\r\n      setstatusmsg('');\r\n      setisLoading(false);\r\n      renderChat({setMessageList});\r\n      \r\n    })\r\n    .catch( err => {\r\n        setText('');\r\n        setstatusmsg(err.error);\r\n        setisLoading(false);\r\n    });\r\n  };\r\n\r\n\r\n    return (\r\n        <div> \r\n        { statusmsg && <div class=\"status\">{statusmsg}</div>}\r\n        <div class = \"login-form\">\r\n        <label>\r\n          Send Message:\r\n          <input disabled={isLoading} onChange={onChange} value={text} />\r\n        </label>\r\n        <button onClick={sendmessage} disabled={isGreyedout || isLoading} >{ isLoading ? \"...\" : \"Send\"}</button>\r\n      </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default ChatOutgoing;"]},"metadata":{},"sourceType":"module"}