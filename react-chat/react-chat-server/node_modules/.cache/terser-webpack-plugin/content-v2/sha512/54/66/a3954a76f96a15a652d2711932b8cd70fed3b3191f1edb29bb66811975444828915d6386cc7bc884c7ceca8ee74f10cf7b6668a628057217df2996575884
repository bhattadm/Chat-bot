{"code":"(this[\"webpackJsonpreact-chat-server\"]=this[\"webpackJsonpreact-chat-server\"]||[]).push([[0],{11:function(e,n,t){},12:function(e,n,t){},13:function(e,n,t){\"use strict\";t.r(n);var s=t(0),i=t(1),c=t.n(i),r=t(5),o=t.n(r),u=(t(11),t(3)),a=t(2),j=(t(12),function(e){var n=e.user,t=e.onLogout;return n.isLoggedIn?Object(s.jsx)(\"nav\",{children:Object(s.jsx)(\"ul\",{class:\"nav\",children:Object(s.jsx)(\"li\",{class:\"logout\",children:Object(s.jsx)(\"a\",{href:\"#logout\",onClick:t,children:\"Logout\"})})})}):null}),d=function(e){var n=e.onLogin,t=Object(i.useState)(\"\"),c=Object(a.a)(t,2),r=c[0],o=c[1],u=Object(i.useState)(!0),j=Object(a.a)(u,2),d=j[0],l=j[1],g=Object(i.useState)(!1),f=Object(a.a)(g,2),b=f[0],h=f[1],O=Object(i.useState)(\"\"),m=Object(a.a)(O,2),L=m[0],x=m[1];return Object(s.jsxs)(\"div\",{children:[L&&Object(s.jsx)(\"div\",{class:\"status\",children:L}),Object(s.jsxs)(\"label\",{children:[\"Username:\",Object(s.jsx)(\"input\",{disabled:b,onChange:function(e){x(\"\"),o(e.target.value),l(!e.target.value)},value:r}),Object(s.jsx)(\"button\",{onClick:function(){h(!0),function(e){var n=e.username;return fetch(\"/api/session\",{method:\"POST\",headers:new Headers({\"content-type\":\"application/json\"}),body:JSON.stringify({username:n})}).catch((function(){return Promise.reject({error:\"network-error\"})})).then((function(e){return e.ok?(console.log(\"***********\"),e.json()):e.json().then((function(e){return Promise.reject(e)}))}))}({username:r}).then((function(e){n({username:r,info:e.info,userList:e.userList,messageList:e.messageList}),x(\"\"),h(!1)})).catch((function(e){x(e.error),h(!1)}))},disabled:d||b,children:b?\"...\":\"Login\"})]})]})},l=function(e){var n=e.messageList;return Object(s.jsx)(\"ul\",{children:Object.values(n).map((function(e){return Object(s.jsx)(\"li\",{children:Object(s.jsxs)(\"div\",{class:\"messages\",children:[Object(s.jsxs)(\"span\",{class:\"messagetext\",children:[\"$\",e.sender,\":$\",e.text]}),Object(s.jsxs)(\"p\",{children:[\"$\",e.timestamp]})]})})}))})},g=function(e){var n=e.stuff,t=Object(s.jsx)(l,{messageList:n.messageList});return Object(s.jsxs)(\"div\",{children:[\"Hello\",Object(s.jsx)(\"ul\",{children:Object.keys(n.userList).map((function(e){return Object(s.jsxs)(\"li\",{children:[e,\": \",n.userList[e]]},e)}))}),t]})};var f=function(){var e,n=Object(i.useState)({isLoggedIn:!1,isPending:!0}),t=Object(a.a)(n,2),c=t[0],r=t[1];return Object(i.useEffect)((function(){fetch(\"/api/session\",{method:\"GET\"}).catch((function(){return Promise.reject({error:\"network-error\"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){r({isLoggedIn:!0,isPending:!1,username:e.username,info:e.info,userList:e.userList,messageList:e.messageList})})).catch((function(){r({isLoggedIn:!1,isPending:!1})}))}),[]),c.isPending?Object(s.jsx)(\"div\",{className:\"app\",children:\"Loading...\"}):(e=c.isLoggedIn?Object(s.jsx)(g,{stuff:c}):Object(s.jsx)(d,{onLogin:function(e){var n=e.username,t=e.info,s=e.userList,i=e.messageList;r({isLoggedIn:!0,isPending:!1,username:n,info:t,userList:s,messageList:i})}}),Object(s.jsxs)(\"div\",{className:\"app\",children:[Object(s.jsx)(j,{user:c,onLogout:function(){r(Object(u.a)(Object(u.a)({},c),{},{isPending:!0})),fetch(\"/api/session\",{method:\"DELETE\"}).catch((function(){return Promise.reject({error:\"network-error\"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(){r({isLoggedIn:!1,isPending:!1})})).catch((function(){r(Object(u.a)(Object(u.a)({},c),{},{isPending:!1}))}))}}),e]}))},b=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,14)).then((function(n){var t=n.getCLS,s=n.getFID,i=n.getFCP,c=n.getLCP,r=n.getTTFB;t(e),s(e),i(e),c(e),r(e)}))};o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById(\"root\")),b()}},[[13,1,2]]]);","name":"static/js/main.60b5b710.chunk.js","map":{"version":3,"sources":["static/js/main.60b5b710.chunk.js"],"names":["this","push","11","module","exports","__webpack_require__","12","13","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","src_Nav","_ref","user","onLogout","isLoggedIn","Object","children","class","href","onClick","src_Login","onLogin","_useState","_useState2","username","setUsername","_useState3","_useState4","isDisabled","setIsDisabled","_useState5","_useState6","isPending","setIsPending","_useState7","_useState8","status","setStatus","disabled","onChange","e","target","value","fetch","method","headers","Headers","content-type","body","JSON","stringify","catch","Promise","reject","error","then","response","ok","console","log","json","createSession","userinfo","info","userList","messageList","err","src_ChatMessageList","values","map","message","sender","text","timestamp","src_ShowStuff","stuff","content","keys","key","src_App","userState","setUserState","className","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-chat-server\"] = this[\"webpackJsonpreact-chat-server\"] || []).push([[0],{\n\n/***/ 11:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(5);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./src/services.js\nvar checkSession=function checkSession(){return fetch('/api/session',{method:'GET'}).catch(function(){return Promise.reject({error:'network-error'});}).then(function(response){if(response.ok){return response.json();}return response.json().then(function(json){return Promise.reject(json);});});};var createSession=function createSession(_ref){var username=_ref.username;return fetch('/api/session',{method:'POST',headers:new Headers({'content-type':'application/json'}),body:JSON.stringify({username:username})}).catch(function(){return Promise.reject({error:'network-error'});}).then(function(response){if(response.ok){console.log(\"***********\");return response.json();}return response.json().then(function(json){return Promise.reject(json);});});};var endSession=function endSession(){return fetch('/api/session',{method:'DELETE'}).catch(function(){return Promise.reject({error:'network-error'});}).then(function(response){if(response.ok){return response.json();}return response.json().then(function(json){return Promise.reject(json);});});};\n// CONCATENATED MODULE: ./src/Nav.jsx\nvar Nav_Nav=function Nav(_ref){var user=_ref.user,onLogout=_ref.onLogout;if(!user.isLoggedIn){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{class:\"nav\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{class:\"logout\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"#logout\",onClick:onLogout,children:\"Logout\"})})})});};/* harmony default export */ var src_Nav = (Nav_Nav);\n// CONCATENATED MODULE: ./src/Login.jsx\nvar Login_Login=function Login(_ref){var onLogin=_ref.onLogin;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isDisabled=_useState4[0],setIsDisabled=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isPending=_useState6[0],setIsPending=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var onChange=function onChange(e){setStatus('');setUsername(e.target.value);setIsDisabled(!e.target.value);};var login=function login(){setIsPending(true);createSession({username:username}).then(function(userinfo){onLogin({username:username,info:userinfo.info,userList:userinfo.userList,messageList:userinfo.messageList});setStatus('');setIsPending(false);}).catch(function(err){setStatus(err.error);// TODO: convert to friendly message\nsetIsPending(false);});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[status&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"status\",children:status}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Username:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{disabled:isPending,onChange:onChange,value:username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:login,disabled:isDisabled||isPending,children:isPending?\"...\":\"Login\"})]})]});};/* harmony default export */ var src_Login = (Login_Login);\n// CONCATENATED MODULE: ./src/ChatUserList.jsx\nvar ChatUserList_ChatUserList=function ChatUserList(_ref){var userList=_ref.userList;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:Object.values(userList).map(function(user){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"user\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{class:\"username\",children:[\"$\",user]})})});})});};/* harmony default export */ var src_ChatUserList = (ChatUserList_ChatUserList);\n// CONCATENATED MODULE: ./src/ChatMessageList.jsx\nvar ChatMessageList_ChatMessageList=function ChatMessageList(_ref){var messageList=_ref.messageList;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:Object.values(messageList).map(function(message){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"messages\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{class:\"messagetext\",children:[\"$\",message.sender,\":$\",message.text]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"$\",message.timestamp]})]})});})});};/* harmony default export */ var src_ChatMessageList = (ChatMessageList_ChatMessageList);\n// CONCATENATED MODULE: ./src/ShowStuff.jsx\nvar ShowStuff_ShowStuff=function ShowStuff(_ref){var stuff=_ref.stuff;var content=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_ChatMessageList,{messageList:stuff.messageList});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Hello\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:Object.keys(stuff.userList).map(function(key){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[key,\": \",stuff.userList[key]]},key);})}),content]});};/* harmony default export */ var src_ShowStuff = (ShowStuff_ShowStuff);\n// CONCATENATED MODULE: ./src/App.jsx\nfunction App_App(){var _useState=Object(react[\"useState\"])({isLoggedIn:false,isPending:true}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userState=_useState2[0],setUserState=_useState2[1];Object(react[\"useEffect\"])(function(){checkSession().then(function(userinfo){setUserState({isLoggedIn:true,isPending:false,username:userinfo.username,info:userinfo.info,userList:userinfo.userList,messageList:userinfo.messageList});}).catch(function(){// We treat any failure as not logged in\nsetUserState({isLoggedIn:false,isPending:false});});},[]);// only run on initial render\nvar login=function login(_ref){var username=_ref.username,info=_ref.info,userList=_ref.userList,messageList=_ref.messageList;setUserState({isLoggedIn:true,isPending:false,username:username,info:info,userList:userList,messageList:messageList});};if(userState.isPending){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app\",children:\"Loading...\"});}var logout=function logout(){// Inform UI to wait\nsetUserState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userState),{},{isPending:true}));// Begin logout\nendSession().then(function(){setUserState({isLoggedIn:false,isPending:false});}).catch(function(){// TODO: notify user of issue\nsetUserState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userState),{},{isPending:false}));});};var content;if(userState.isLoggedIn){content=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_ShowStuff,{stuff:userState});}else{content=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Login,{onLogin:login});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Nav,{user:userState,onLogout:logout}),content]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 14)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[13,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\src\\index.css","C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\src\\App.css","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/services.js","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/Nav.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/Login.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/ChatUserList.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/ChatMessageList.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/ShowStuff.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/App.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/reportWebVitals.js","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/index.js"],"names":["checkSession","fetch","method","catch","Promise","reject","error","then","response","ok","json","createSession","username","headers","Headers","body","JSON","stringify","console","log","endSession","Nav","user","onLogout","isLoggedIn","Login","onLogin","useState","setUsername","isDisabled","setIsDisabled","isPending","setIsPending","status","setStatus","onChange","e","target","value","login","userinfo","info","userList","messageList","err","ChatUserList","Object","values","map","ChatMessageList","message","sender","text","timestamp","ShowStuff","stuff","content","keys","key","App","userState","setUserState","useEffect","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAO,GAAMA,aAAY,CAAG,QAAfA,aAAe,EAAM,CAChC,MAAOC,MAAK,CAAC,cAAD,CAAkB,CAC5BC,MAAM,CAAE,KADoB,CAAlB,CAAL,CAGNC,KAHM,CAGC,iBAAMC,QAAO,CAACC,MAAR,CAAe,CAAEC,KAAK,CAAE,eAAT,CAAf,CAAN,EAHD,EAINC,IAJM,CAIA,SAAAC,QAAQ,CAAI,CACjB,GAAGA,QAAQ,CAACC,EAAZ,CAAgB,CACd,MAAOD,SAAQ,CAACE,IAAT,EAAP,CACD,CACD,MAAOF,SAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAsB,SAAAG,IAAI,QAAIN,QAAO,CAACC,MAAR,CAAeK,IAAf,CAAJ,EAA1B,CAAP,CACD,CATM,CAAP,CAUD,CAXM,CAaA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,MAAgB,IAAdC,SAAc,MAAdA,QAAc,CAC3C,MAAOX,MAAK,CAAC,cAAD,CAAkB,CAC5BC,MAAM,CAAE,MADoB,CAE5BW,OAAO,CAAE,GAAIC,QAAJ,CAAY,CACnB,eAAgB,kBADG,CAAZ,CAFmB,CAK5BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEL,QAAQ,CAARA,QAAF,CAAf,CALsB,CAAlB,CAAL,CAONT,KAPM,CAOC,iBAAMC,QAAO,CAACC,MAAR,CAAe,CAAEC,KAAK,CAAE,eAAT,CAAf,CAAN,EAPD,EAQNC,IARM,CAQA,SAAAC,QAAQ,CAAI,CACjB,GAAGA,QAAQ,CAACC,EAAZ,CAAgB,CACdS,OAAO,CAACC,GAAR,CAAY,aAAZ,EACA,MAAOX,SAAQ,CAACE,IAAT,EAAP,CACD,CACD,MAAOF,SAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAsB,SAAAG,IAAI,QAAIN,QAAO,CAACC,MAAR,CAAeK,IAAf,CAAJ,EAA1B,CAAP,CACD,CAdM,CAAP,CAeD,CAhBM,CAkBA,GAAMU,WAAU,CAAG,QAAbA,WAAa,EAAM,CAC9B,MAAOnB,MAAK,CAAC,cAAD,CAAkB,CAC5BC,MAAM,CAAE,QADoB,CAAlB,CAAL,CAGNC,KAHM,CAGC,iBAAMC,QAAO,CAACC,MAAR,CAAe,CAAEC,KAAK,CAAE,eAAT,CAAf,CAAN,EAHD,EAINC,IAJM,CAIA,SAAAC,QAAQ,CAAI,CACjB,GAAGA,QAAQ,CAACC,EAAZ,CAAgB,CACd,MAAOD,SAAQ,CAACE,IAAT,EAAP,CACD,CACD,MAAOF,SAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAsB,SAAAG,IAAI,QAAIN,QAAO,CAACC,MAAR,CAAeK,IAAf,CAAJ,EAA1B,CAAP,CACD,CATM,CAAP,CAUD,CAXM,C;;AC/BP,GAAMW,QAAG,CAAG,QAANA,IAAM,MAA6B,IAAlBC,KAAkB,MAAlBA,IAAkB,CAAZC,QAAY,MAAZA,QAAY,CACvC,GAAG,CAACD,IAAI,CAACE,UAAT,CAAqB,CACnB,MAAO,KAAP,CACD,CACD,mBACE,wDACE,iCAAI,KAAK,CAAC,KAAV,uBACE,iCAAI,KAAK,CAAC,QAAV,uBAAmB,gCAAG,IAAI,CAAC,SAAR,CAAkB,OAAO,CAAED,QAA3B,oBAAnB,EADF,EADF,EADF,CAOD,CAXD,CAaeF,mDAAf,E;;ACVA,GAAMI,YAAK,CAAG,QAARA,MAAQ,MAAqB,IAAVC,QAAU,MAAVA,OAAU,eACDC,yBAAQ,CAAC,EAAD,CADP,kEACzBf,QADyB,eAChBgB,WADgB,8BAEED,yBAAQ,CAAC,IAAD,CAFV,mEAEzBE,UAFyB,eAEdC,aAFc,8BAGGH,yBAAQ,CAAC,KAAD,CAHX,mEAGxBI,SAHwB,eAGbC,YAHa,8BAIHL,yBAAQ,CAAC,EAAD,CAJL,mEAIxBM,MAJwB,eAIhBC,SAJgB,eAM/B,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,CAAD,CAAO,CACtBF,SAAS,CAAC,EAAD,CAAT,CACAN,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACAR,aAAa,CAAC,CAACM,CAAC,CAACC,MAAF,CAASC,KAAX,CAAb,CACD,CAJD,CAMA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClBP,YAAY,CAAC,IAAD,CAAZ,CACArB,aAAa,CAAC,CAAEC,QAAQ,CAARA,QAAF,CAAD,CAAb,CACCL,IADD,CACO,SAAAiC,QAAQ,CAAI,CACjBd,OAAO,CAAC,CAAEd,QAAQ,CAARA,QAAF,CAAY6B,IAAI,CAAED,QAAQ,CAACC,IAA3B,CAAgCC,QAAQ,CAAEF,QAAQ,CAACE,QAAnD,CAA4DC,WAAW,CAAEH,QAAQ,CAACG,WAAlF,CAAD,CAAP,CACAT,SAAS,CAAC,EAAD,CAAT,CACAF,YAAY,CAAC,KAAD,CAAZ,CACD,CALD,EAMC7B,KAND,CAMQ,SAAAyC,GAAG,CAAI,CACbV,SAAS,CAACU,GAAG,CAACtC,KAAL,CAAT,CAAqB;AACrB0B,YAAY,CAAC,KAAD,CAAZ,CACD,CATD,EAUD,CAZD,CAcA,mBACA,6CACIC,MAAM,eAAI,kCAAK,KAAK,CAAC,QAAX,UAAqBA,MAArB,EADd,cAEE,wEAEE,oCAAO,QAAQ,CAAIF,SAAnB,CAA8B,QAAQ,CAAII,QAA1C,CAAoD,KAAK,CAAIvB,QAA7D,EAFF,cAGE,qCAAQ,OAAO,CAAI2B,KAAnB,CAA0B,QAAQ,CAAGV,UAAU,EAAIE,SAAnD,UAAgEA,SAAS,CAAG,KAAH,CAAS,OAAlF,EAHF,GAFF,GADA,CAUH,CApCD,CAqCeN,yDAAf,E;;ACxCA,GAAMoB,0BAAY,CAAG,QAAfA,aAAe,MAAkB,IAAfH,SAAe,MAAfA,QAAe,CACrC,mBACE,0CACGI,MAAM,CAACC,MAAP,CAAcL,QAAd,EAAwBM,GAAxB,CAA6B,SAAA1B,IAAI,qBAChC,uDACI,kCAAK,KAAK,CAAC,MAAX,uBACA,oCAAM,KAAK,CAAC,UAAZ,eAAyBA,IAAzB,GADA,EADJ,EADgC,EAAjC,CADH,EADF,CAUD,CAXD,CAaeuB,8EAAf,E;;ACbA,GAAMI,gCAAe,CAAG,QAAlBA,gBAAkB,MAAqB,IAAlBN,YAAkB,MAAlBA,WAAkB,CACzC,mBACE,0CACGG,MAAM,CAACC,MAAP,CAAcJ,WAAd,EAA2BK,GAA3B,CAAgC,SAAAE,OAAO,qBACtC,uDACA,mCAAK,KAAK,CAAC,UAAX,wBACE,oCAAM,KAAK,CAAG,aAAd,eAA8BA,OAAO,CAACC,MAAtC,MAAgDD,OAAO,CAACE,IAAxD,GADF,cAEE,+CAAKF,OAAO,CAACG,SAAb,GAFF,GADA,EADsC,EAAvC,CADH,EADF,CAWD,CAZH,CAciBJ,uFAAf,E;;ACZF,GAAMK,oBAAS,CAAG,QAAZA,UAAY,MAAe,IAAZC,MAAY,MAAZA,KAAY,CACjC,GAAIC,QAAO,cAAG,2BAAC,mBAAD,EAAiB,WAAW,CAAID,KAAK,CAACZ,WAAtC,EAAd,CACE,mBACE,kEAEA,0CACIG,MAAM,CAACW,IAAP,CAAYF,KAAK,CAACb,QAAlB,EAA4BM,GAA5B,CAAiC,SAAAU,GAAG,qBAAM,4CAAeA,GAAf,MAAsBH,KAAK,CAACb,QAAN,CAAegB,GAAf,CAAtB,GAASA,GAAT,CAAN,EAApC,CADJ,EAFA,CAKCF,OALD,GADF,CASD,CAXD,CAYeF,qEAAf,E;;ACNA,QAASK,QAAT,EAAe,eACoBhC,yBAAQ,CAAC,CAAEH,UAAU,CAAE,KAAd,CAAqBO,SAAS,CAAE,IAAhC,CAAD,CAD5B,kEACN6B,SADM,eACIC,YADJ,eAEbC,0BAAS,CAAE,UAAM,CACf9D,YAAY,GACXO,IADD,CACO,SAAAiC,QAAQ,CAAI,CACjBqB,YAAY,CAAC,CACXrC,UAAU,CAAE,IADD,CAEXO,SAAS,CAAE,KAFA,CAGXnB,QAAQ,CAAE4B,QAAQ,CAAC5B,QAHR,CAIX6B,IAAI,CAACD,QAAQ,CAACC,IAJH,CAKVC,QAAQ,CAACF,QAAQ,CAACE,QALR,CAMXC,WAAW,CAAEH,QAAQ,CAACG,WANX,CAAD,CAAZ,CAQD,CAVD,EAWCxC,KAXD,CAWQ,UAAM,CACZ;AACA0D,YAAY,CAAC,CACXrC,UAAU,CAAE,KADD,CAEXO,SAAS,CAAE,KAFA,CAAD,CAAZ,CAID,CAjBD,EAkBD,CAnBQ,CAmBN,EAnBM,CAAT,CAmBQ;AAER,GAAMQ,MAAK,CAAG,QAARA,MAAQ,MAA+C,IAArC3B,SAAqC,MAArCA,QAAqC,CAA5B6B,IAA4B,MAA5BA,IAA4B,CAAvBC,QAAuB,MAAvBA,QAAuB,CAAdC,WAAc,MAAdA,WAAc,CAC3DkB,YAAY,CAAC,CACXrC,UAAU,CAAE,IADD,CAEXO,SAAS,CAAE,KAFA,CAGXnB,QAAQ,CAARA,QAHW,CAIX6B,IAAI,CAAJA,IAJW,CAKXC,QAAQ,CAARA,QALW,CAMXC,WAAW,CAAXA,WANW,CAAD,CAAZ,CAQD,CATD,CAWA,GAAGiB,SAAS,CAAC7B,SAAb,CAAwB,CACtB,mBACE,kCAAK,SAAS,CAAC,KAAf,wBADF,CAKD,CACD,GAAMgC,OAAM,CAAG,QAATA,OAAS,EAAW,CACxB;AACAF,YAAY,CAAC,qFACRD,SADO,MAEV7B,SAAS,CAAE,IAFD,GAAZ,CAIA;AACAX,UAAU,GACTb,IADD,CACO,UAAM,CACXsD,YAAY,CAAC,CACXrC,UAAU,CAAE,KADD,CAEXO,SAAS,CAAE,KAFA,CAAD,CAAZ,CAID,CAND,EAOC5B,KAPD,CAOQ,UAAM,CACZ;AACA0D,YAAY,CAAC,qFACRD,SADO,MAEV7B,SAAS,CAAE,KAFD,GAAZ,CAID,CAbD,EAcD,CArBD,CAsBA,GAAIyB,QAAJ,CACA,GAAGI,SAAS,CAACpC,UAAb,CAAyB,CACvBgC,OAAO,cAAG,2BAAC,aAAD,EAAW,KAAK,CAAEI,SAAlB,EAAV,CACD,CAFD,IAEO,CACLJ,OAAO,cAAG,2BAAC,SAAD,EAAO,OAAO,CAAEjB,KAAhB,EAAV,CACD,CACD,mBACE,mCAAK,SAAS,CAAC,KAAf,wBACA,2BAAC,OAAD,EAAK,IAAI,CAAEqB,SAAX,CAAsB,QAAQ,CAAEG,MAAhC,EADA,CAEEP,OAFF,GADF,CAMD,CAEcG,mDAAf,E;;ACrFA,GAAMK,gBAAe,CAAG,QAAlBA,gBAAkB,CAAAC,WAAW,CAAI,CACrC,GAAIA,WAAW,EAAIA,WAAW,WAAYC,SAA1C,CAAoD,CAClD,iFAAqB3D,IAArB,CAA0B,cAAiD,IAA9C4D,OAA8C,MAA9CA,MAA8C,CAAtCC,MAAsC,MAAtCA,MAAsC,CAA9BC,MAA8B,MAA9BA,MAA8B,CAAtBC,MAAsB,MAAtBA,MAAsB,CAAdC,OAAc,MAAdA,OAAc,CACzEJ,MAAM,CAACF,WAAD,CAAN,CACAG,MAAM,CAACH,WAAD,CAAN,CACAI,MAAM,CAACJ,WAAD,CAAN,CACAK,MAAM,CAACL,WAAD,CAAN,CACAM,OAAO,CAACN,WAAD,CAAP,CACD,CAND,EAOD,CACF,CAVD,CAYeD,uEAAf,E;;ACNAQ,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,IADF,EADF,CAIEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,EAOA;AACA;AACA;AACAX,mBAAe,G","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export const checkSession = () => {\r\n  return fetch('/api/session',  {\r\n    method: 'GET',\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n\r\nexport const createSession = ({username}) => {\r\n  return fetch('/api/session',  {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n    body: JSON.stringify({ username }),\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      console.log(\"***********\");\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n\r\nexport const endSession = () => {\r\n  return fetch('/api/session',  {\r\n    method: 'DELETE',\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n","const Nav = function({ user, onLogout }) {\r\n  if(!user.isLoggedIn) {\r\n    return null;\r\n  }\r\n  return (\r\n    <nav>\r\n      <ul class=\"nav\">\r\n        <li class=\"logout\"><a href=\"#logout\" onClick={onLogout}>Logout</a></li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import { useState } from 'react';\r\nimport { createSession } from './services';\r\n\r\nconst Login = function({ onLogin }){\r\n    const[username,setUsername] = useState('');\r\n    const[isDisabled,setIsDisabled]= useState(true);\r\n    const [isPending, setIsPending] = useState(false);\r\n    const [status, setStatus] = useState('');\r\n\r\n    const onChange = (e) => {\r\n      setStatus('');\r\n      setUsername(e.target.value);\r\n      setIsDisabled(!e.target.value);\r\n    };\r\n\r\n    const login = () => {\r\n      setIsPending(true);\r\n      createSession({ username })\r\n      .then( userinfo => {\r\n        onLogin({ username, info: userinfo.info,userList: userinfo.userList,messageList: userinfo.messageList });\r\n        setStatus('');\r\n        setIsPending(false);\r\n      })\r\n      .catch( err => {\r\n        setStatus(err.error);// TODO: convert to friendly message\r\n        setIsPending(false);\r\n      });\r\n    };\r\n  \r\n    return (\r\n    <div>\r\n      { status && <div class=\"status\">{status}</div>}\r\n      <label>\r\n        Username:\r\n        <input disabled = {isPending} onChange = {onChange} value = {username}></input>\r\n        <button onClick = {login} disabled ={isDisabled || isPending}>{ isPending ? \"...\":\"Login\"}</button>\r\n      </label>\r\n    </div>\r\n    );\r\n};\r\nexport default Login;","const ChatUserList = ({ userList }) => {\r\n  return (\r\n    <ul>\r\n      {Object.values(userList).map( user => (\r\n        <li>\r\n            <div class=\"user\">\r\n            <span class=\"username\">${user}</span>\r\n            </div>\r\n        </li> ) ) }\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ChatUserList;","const ChatMessageList = ({ messageList }) => {\r\n    return (\r\n      <ul>\r\n        {Object.values(messageList).map( message => (\r\n          <li>\r\n          <div class=\"messages\">\r\n            <span class = \"messagetext\">${message.sender}:${message.text}</span>\r\n            <p>${message.timestamp}</p>\r\n          </div>\r\n        </li> ) ) }\r\n      </ul>\r\n    );\r\n  };\r\n  \r\n  export default ChatMessageList;","import ChatUserList from './ChatUserList';\r\nimport ChatMessageList from './ChatMessageList';\r\nconst ShowStuff = ({ stuff }) => {\r\nlet content = <ChatMessageList messageList = {stuff.messageList}/>;\r\n  return (\r\n    <div>\r\n    Hello\r\n    <ul>\r\n      { Object.keys(stuff.userList).map( key => ( <li key={key}>{key}: {stuff.userList[key]}</li> ) ) }\r\n    </ul>\r\n    {content}\r\n    </div>\r\n  );\r\n};\r\nexport default ShowStuff;\r\n","\nimport './App.css';\nimport { useState, useEffect } from 'react';\nimport { endSession, checkSession } from './services';\nimport Nav from './Nav';\nimport Login from './Login';\nimport ShowStuff from './ShowStuff';\n\nfunction App() {\n  const [userState,setUserState] = useState({ isLoggedIn: false, isPending: true });\n  useEffect( () => {\n    checkSession()\n    .then( userinfo => {\n      setUserState({\n        isLoggedIn: true,\n        isPending: false,\n        username: userinfo.username,\n        info:userinfo.info,\n         userList:userinfo.userList,\n        messageList: userinfo.messageList,\n      });\n    })\n    .catch( () => {\n      // We treat any failure as not logged in\n      setUserState({\n        isLoggedIn: false,\n        isPending: false,\n      });\n    });\n  }, []); // only run on initial render\n\n  const login = function({username,info,userList,messageList}) {\n    setUserState({\n      isLoggedIn: true,\n      isPending: false,\n      username,\n      info,\n      userList,\n      messageList,\n    });\n  };\n\n  if(userState.isPending) {\n    return (\n      <div className=\"app\">\n        Loading...\n      </div>\n    );\n  }\n  const logout = function() {\n    // Inform UI to wait\n    setUserState({\n      ...userState,\n      isPending: true,\n    });\n    // Begin logout\n    endSession()\n    .then( () => {\n      setUserState({\n        isLoggedIn: false,\n        isPending: false,\n      });\n    })\n    .catch( () => {\n      // TODO: notify user of issue\n      setUserState({\n        ...userState,\n        isPending: false,\n      });\n    });\n  };\n  let content;\n  if(userState.isLoggedIn) {\n    content = <ShowStuff stuff={userState}/>;\n  } else {\n    content = <Login onLogin={login}/>;\n  }\n  return (\n    <div className=\"app\">\n    <Nav user={userState} onLogout={logout}/>\n     {content}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}