{"code":"(this[\"webpackJsonpreact-chat-server\"]=this[\"webpackJsonpreact-chat-server\"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},13:function(e,t,n){\"use strict\";n.r(t);var s=n(0),c=n(1),r=n.n(c),i=n(5),a=n.n(i),o=(n(11),n(3)),u=n(2),j=(n(12),function(e){var t=e.user,n=e.onLogout;return t.isLoggedIn?Object(s.jsx)(\"nav\",{children:Object(s.jsx)(\"ul\",{className:\"nav\",children:Object(s.jsx)(\"li\",{className:\"logout\",children:Object(s.jsx)(\"a\",{href:\"#logout\",onClick:n,children:\"Logout\"})})})}):null}),l=function(e){var t=e.onLogin,n=Object(c.useState)(\"\"),r=Object(u.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)(!0),j=Object(u.a)(o,2),l=j[0],d=j[1],b=Object(c.useState)(!1),h=Object(u.a)(b,2),O=h[0],f=h[1],g=Object(c.useState)(\"\"),m=Object(u.a)(g,2),x=m[0],v=m[1];return Object(s.jsxs)(\"div\",{children:[x&&Object(s.jsx)(\"div\",{class:\"status\",children:x}),Object(s.jsx)(\"div\",{class:\"login-form\",children:Object(s.jsxs)(\"label\",{children:[\"Username:\",Object(s.jsx)(\"input\",{disabled:O,onChange:function(e){a(e.target.value),d(!e.target.value)},value:i}),Object(s.jsx)(\"button\",{onClick:function(){f(!0),function(e){var t=e.username;return fetch(\"/api/session\",{method:\"POST\",headers:new Headers({\"content-type\":\"application/json\"}),body:JSON.stringify({username:t})}).catch((function(){return Promise.reject({error:\"network-error\"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}({username:i}).then((function(e){v(\"\"),f(!1),t({username:i})})).catch((function(e){v(e.error),f(!1)}))},disabled:l||O,children:O?\"...\":\"Login\"})]})})]})},d=function(e){var t=e.userList;return Object(s.jsxs)(\"div\",{class:\"column left\",children:[Object(s.jsx)(\"h3\",{class:\"subtitle\",children:\"Users:\"}),Object(s.jsx)(\"ul\",{children:Object.values(t).map((function(e){return Object(s.jsx)(\"li\",{children:Object(s.jsx)(\"div\",{class:\"user\",children:Object(s.jsx)(\"span\",{class:\"username\",children:e.username})})})}))})]})},b=function(e){var t=e.messageList;return Object(s.jsxs)(\"div\",{class:\"column right\",children:[Object(s.jsx)(\"h3\",{class:\"subtitle\",children:\"Messages:\"}),Object(s.jsx)(\"ul\",{children:Object.values(t).map((function(e){return Object(s.jsx)(\"li\",{children:Object(s.jsxs)(\"div\",{class:\"messages\",children:[Object(s.jsxs)(\"span\",{class:\"messagetext\",children:[e.sender,\":\",e.text]}),Object(s.jsx)(\"p\",{children:e.timestamp})]})})}))})]})},h=function(e){var t=e.username,n=e.renderChat,r=e.setMessageList,i=Object(c.useState)(\"\"),a=Object(u.a)(i,2),o=a[0],j=a[1],l=Object(c.useState)(!0),d=Object(u.a)(l,2),b=d[0],h=d[1],O=Object(c.useState)(!1),f=Object(u.a)(O,2),g=f[0],m=f[1],x=Object(c.useState)(\"\"),v=Object(u.a)(x,2),L=v[0],p=v[1];return Object(s.jsxs)(\"div\",{children:[L&&Object(s.jsx)(\"div\",{class:\"status\",children:L}),Object(s.jsxs)(\"div\",{class:\"send-form\",children:[Object(s.jsxs)(\"label\",{children:[\"Send Message:\",Object(s.jsx)(\"input\",{disabled:g,onChange:function(e){p(\"\"),j(e.target.value),h(!e.target.value)},value:o})]}),Object(s.jsx)(\"button\",{onClick:function(){m(!0),function(e){var t=e.username,n=e.text;return fetch(\"/chat\",{method:\"POST\",headers:new Headers({\"content-type\":\"application/json\"}),body:JSON.stringify({username:t,text:n})}).catch((function(){return Promise.reject({error:\"network-error\"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}({username:t,text:o}).then((function(e){r(e.messageList),j(\"\"),h(!0),p(\"\"),m(!1),n({setMessageList:r})})).catch((function(e){j(\"\"),h(!0),p(e.error),m(!1)}))},disabled:b||g,children:g?\"...\":\"Send\"})]})]})},O=function(e){var t=e.username,n=Object(c.useState)(\"\"),r=Object(u.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)(\"\"),j=Object(u.a)(o,2),l=j[0],O=j[1],f=Object(c.useState)(\"\"),g=Object(u.a)(f,2),m=g[0],x=g[1];Object(c.useEffect)((function(){v({setMessageList:O});var e=setInterval((function(){v({setMessageList:O})}),5e3);return function(){clearInterval(e)}}),[]);var v=function(e){var t=e.setMessageList;fetch(\"/chat\",{method:\"GET\"}).catch((function(){return Promise.reject({error:\"network-error\"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){a(e.userList),t(e.messageList)})).catch((function(e){x(e.error)}))},L=Object(s.jsx)(d,{userList:i}),p=Object(s.jsx)(b,{messageList:l}),P=Object(s.jsx)(h,{username:t,renderChat:v,setMessageList:O});return Object(s.jsxs)(\"div\",{class:\"display-panel\",children:[m&&Object(s.jsx)(\"div\",{class:\"status\",children:m}),Object(s.jsxs)(\"div\",{class:\"row\",children:[L,p]}),P]})};var f=function(){var e,t=Object(c.useState)({isLoggedIn:!1,isPending:!0}),n=Object(u.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(\"\"),d=Object(u.a)(a,2),b=d[0],h=d[1];return Object(c.useEffect)((function(){fetch(\"/api/session\",{method:\"GET\"}).catch((function(){return Promise.reject({error:\"network-error\"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){i({isLoggedIn:!0,isPending:!1}),h(e.username)})).catch((function(){i({isLoggedIn:!1,isPending:!1})}))}),[]),r.isPending?Object(s.jsx)(\"div\",{className:\"app\",children:\"Loading...\"}):(e=r.isLoggedIn?Object(s.jsx)(O,{username:b}):Object(s.jsx)(l,{onLogin:function(e){var t=e.username;i({isLoggedIn:!0,isPending:!1}),h(t)}}),Object(s.jsxs)(\"div\",{className:\"app\",children:[Object(s.jsx)(\"h2\",{class:\"title\",children:\"Chat Room\"}),Object(s.jsx)(j,{user:r,onLogout:function(){i(Object(o.a)(Object(o.a)({},r),{},{isPending:!0})),fetch(\"/api/session\",{method:\"DELETE\"}).catch((function(){return Promise.reject({error:\"network-error\"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(){i({isLoggedIn:!1,isPending:!1})})).catch((function(){i(Object(o.a)(Object(o.a)({},r),{},{isPending:!1}))}))}}),e]}))},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),r(e),i(e)}))};a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById(\"root\")),g()}},[[13,1,2]]]);","name":"static/js/main.51de54d1.chunk.js","map":{"version":3,"sources":["static/js/main.51de54d1.chunk.js"],"names":["this","push","11","module","exports","__webpack_require__","12","13","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","src_Nav","_ref","user","onLogout","isLoggedIn","Object","children","className","href","onClick","src_Login","onLogin","_useState","_useState2","username","setUsername","_useState3","_useState4","isDisabled","setIsDisabled","_useState5","_useState6","isPending","setIsPending","_useState7","_useState8","status","setStatus","class","disabled","onChange","e","target","value","fetch","method","headers","Headers","content-type","body","JSON","stringify","catch","Promise","reject","error","then","response","ok","json","fetchCreateSession","userinfo","err","src_ChatUserList","userList","values","map","src_ChatMessageList","messageList","message","sender","text","timestamp","src_ChatOutgoing","renderChat","setMessageList","setText","isGreyedout","setisGreyedout","isLoading","setisLoading","statusmsg","setstatusmsg","_ref2","fetchSendMessage","chatList","src_ShowStuff","setUserList","intervalId","setInterval","clearInterval","usercontent","messagecontent","outgoingcontent","src_App","content","userState","setUserState","userName","setUserName","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-chat-server\"] = this[\"webpackJsonpreact-chat-server\"] || []).push([[0],{\n\n/***/ 11:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(5);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./src/services.js\nvar fetchCheckSession=function fetchCheckSession(){return fetch('/api/session',{method:'GET'}).catch(function(){return Promise.reject({error:'network-error'});}).then(function(response){if(response.ok){return response.json();}return response.json().then(function(json){return Promise.reject(json);});});};var fetchCreateSession=function fetchCreateSession(_ref){var username=_ref.username;return fetch('/api/session',{method:'POST',headers:new Headers({'content-type':'application/json'}),body:JSON.stringify({username:username})}).catch(function(){return Promise.reject({error:'network-error'});}).then(function(response){if(response.ok){return response.json();}return response.json().then(function(json){return Promise.reject(json);});});};var fetchGetChat=function fetchGetChat(){return fetch('/chat',{method:'GET'}).catch(function(){return Promise.reject({error:'network-error'});}).then(function(response){if(response.ok){return response.json();}return response.json().then(function(json){return Promise.reject(json);});});};var fetchSendMessage=function fetchSendMessage(_ref2){var username=_ref2.username,text=_ref2.text;return fetch('/chat',{method:'POST',headers:new Headers({'content-type':'application/json'}),body:JSON.stringify({username:username,text:text})}).catch(function(){return Promise.reject({error:'network-error'});}).then(function(response){if(response.ok){return response.json();}return response.json().then(function(json){return Promise.reject(json);});});};var fetchEndSession=function fetchEndSession(){return fetch('/api/session',{method:'DELETE'}).catch(function(){return Promise.reject({error:'network-error'});}).then(function(response){if(response.ok){return response.json();}return response.json().then(function(json){return Promise.reject(json);});});};\n// CONCATENATED MODULE: ./src/Nav.jsx\nvar Nav_Nav=function Nav(_ref){var user=_ref.user,onLogout=_ref.onLogout;if(!user.isLoggedIn){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"nav\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"logout\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"#logout\",onClick:onLogout,children:\"Logout\"})})})});};/* harmony default export */ var src_Nav = (Nav_Nav);\n// CONCATENATED MODULE: ./src/Login.jsx\nvar Login_Login=function Login(_ref){var onLogin=_ref.onLogin;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isDisabled=_useState4[0],setIsDisabled=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isPending=_useState6[0],setIsPending=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var onChange=function onChange(e){setUsername(e.target.value);setIsDisabled(!e.target.value);};var login=function login(){setIsPending(true);fetchCreateSession({username:username}).then(function(userinfo){setStatus('');setIsPending(false);onLogin({username:username});}).catch(function(err){setStatus(err.error);setIsPending(false);});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[status&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"status\",children:status}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"login-form\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Username:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{disabled:isPending,onChange:onChange,value:username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:login,disabled:isDisabled||isPending,children:isPending?\"...\":\"Login\"})]})})]});};/* harmony default export */ var src_Login = (Login_Login);\n// CONCATENATED MODULE: ./src/ChatUserList.jsx\nvar ChatUserList_ChatUserList=function ChatUserList(_ref){var userList=_ref.userList;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"column left\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{class:\"subtitle\",children:\"Users:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:Object.values(userList).map(function(user){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"user\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{class:\"username\",children:user.username})})});})})]});};/* harmony default export */ var src_ChatUserList = (ChatUserList_ChatUserList);\n// CONCATENATED MODULE: ./src/ChatMessageList.jsx\nvar ChatMessageList_ChatMessageList=function ChatMessageList(_ref){var messageList=_ref.messageList;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"column right\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{class:\"subtitle\",children:\"Messages:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:Object.values(messageList).map(function(message){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"messages\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{class:\"messagetext\",children:[message.sender,\":\",message.text]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:message.timestamp})]})});})})]});};/* harmony default export */ var src_ChatMessageList = (ChatMessageList_ChatMessageList);\n// CONCATENATED MODULE: ./src/ChatOutgoing.jsx\nvar ChatOutgoing_ChatOutgoing=function ChatOutgoing(_ref){var username=_ref.username,renderChat=_ref.renderChat,setMessageList=_ref.setMessageList;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isGreyedout=_useState4[0],setisGreyedout=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isLoading=_useState6[0],setisLoading=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),statusmsg=_useState8[0],setstatusmsg=_useState8[1];var onChange=function onChange(e){setstatusmsg('');setText(e.target.value);setisGreyedout(!e.target.value);};var sendmessage=function sendmessage(){setisLoading(true);fetchSendMessage({username:username,text:text}).then(function(chatList){setMessageList(chatList.messageList);setText('');setisGreyedout(true);setstatusmsg('');setisLoading(false);renderChat({setMessageList:setMessageList});}).catch(function(err){setText('');setisGreyedout(true);setstatusmsg(err.error);setisLoading(false);});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[statusmsg&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"status\",children:statusmsg}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"send-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Send Message:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{disabled:isLoading,onChange:onChange,value:text})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:sendmessage,disabled:isGreyedout||isLoading,children:isLoading?\"...\":\"Send\"})]})]});};/* harmony default export */ var src_ChatOutgoing = (ChatOutgoing_ChatOutgoing);\n// CONCATENATED MODULE: ./src/ShowStuff.jsx\nvar ShowStuff_ShowStuff=function ShowStuff(_ref){var username=_ref.username;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userList=_useState2[0],setUserList=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),messageList=_useState4[0],setMessageList=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),status=_useState6[0],setStatus=_useState6[1];Object(react[\"useEffect\"])(function(){renderChat({setMessageList:setMessageList});var intervalId=setInterval(function(){renderChat({setMessageList:setMessageList});},5000);return function cleanup(){clearInterval(intervalId);};},[]);var renderChat=function renderChat(_ref2){var setMessageList=_ref2.setMessageList;fetchGetChat().then(function(chatList){setUserList(chatList.userList);setMessageList(chatList.messageList);}).catch(function(err){setStatus(err.error);});};var usercontent=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_ChatUserList,{userList:userList});var messagecontent=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_ChatMessageList,{messageList:messageList});var outgoingcontent=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_ChatOutgoing,{username:username,renderChat:renderChat,setMessageList:setMessageList});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"display-panel\",children:[status&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"status\",children:status}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"row\",children:[usercontent,messagecontent]}),outgoingcontent]});};/* harmony default export */ var src_ShowStuff = (ShowStuff_ShowStuff);\n// CONCATENATED MODULE: ./src/App.jsx\nfunction App_App(){var _useState=Object(react[\"useState\"])({isLoggedIn:false,isPending:true}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userState=_useState2[0],setUserState=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];Object(react[\"useEffect\"])(function(){fetchCheckSession().then(function(userinfo){setUserState({isLoggedIn:true,isPending:false});setUserName(userinfo.username);}).catch(function(){setUserState({isLoggedIn:false,isPending:false});});},[]);var login=function login(_ref){var username=_ref.username;setUserState({isLoggedIn:true,isPending:false});setUserName(username);};if(userState.isPending){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app\",children:\"Loading...\"});}var logout=function logout(){setUserState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userState),{},{isPending:true}));fetchEndSession().then(function(){setUserState({isLoggedIn:false,isPending:false});}).catch(function(){setUserState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userState),{},{isPending:false}));});};var content;if(userState.isLoggedIn){content=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_ShowStuff,{username:userName});}else{content=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Login,{onLogin:login});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{class:\"title\",children:\"Chat Room\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Nav,{user:userState,onLogout:logout}),content]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 14)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[13,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\src\\index.css","C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\kusha\\Desktop\\student--bhattadm\\work\\react-chat\\react-chat-server\\src\\App.css","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/services.js","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/Nav.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/Login.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/ChatUserList.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/ChatMessageList.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/ChatOutgoing.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/ShowStuff.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/App.jsx","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/reportWebVitals.js","C:/Users/kusha/Desktop/student--bhattadm/work/react-chat/react-chat-server/src/index.js"],"names":["fetchCheckSession","fetch","method","catch","Promise","reject","error","then","response","ok","json","fetchCreateSession","username","headers","Headers","body","JSON","stringify","fetchGetChat","fetchSendMessage","text","fetchEndSession","Nav","user","onLogout","isLoggedIn","Login","onLogin","useState","setUsername","isDisabled","setIsDisabled","isPending","setIsPending","status","setStatus","onChange","e","target","value","login","userinfo","err","ChatUserList","userList","Object","values","map","ChatMessageList","messageList","message","sender","timestamp","ChatOutgoing","renderChat","setMessageList","setText","isGreyedout","setisGreyedout","isLoading","setisLoading","statusmsg","setstatusmsg","sendmessage","chatList","ShowStuff","setUserList","useEffect","intervalId","setInterval","cleanup","clearInterval","usercontent","messagecontent","outgoingcontent","App","userState","setUserState","userName","setUserName","logout","content","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export const fetchCheckSession = () => {\r\n  return fetch('/api/session',  {\r\n    method: 'GET',\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n\r\nexport const fetchCreateSession = ({username}) => {\r\n  return fetch('/api/session',  {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n    body: JSON.stringify({ username }),\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n\r\nexport const fetchGetChat = () => {\r\n  return fetch('/chat',  {\r\n    method: 'GET',\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n\r\nexport const fetchSendMessage = ({username,text}) => {\r\n  return fetch('/chat',  {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n    body: JSON.stringify({ username,text}),\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};\r\n\r\nexport const fetchEndSession = () => {\r\n  return fetch('/api/session',  {\r\n    method: 'DELETE',\r\n  })\r\n  .catch( () => Promise.reject({ error: 'network-error'} ) )\r\n  .then( response => {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json().then( json => Promise.reject(json) );\r\n  });\r\n};","const Nav = function({ user, onLogout }) {\r\n  if(!user.isLoggedIn) {\r\n    return null;\r\n  }\r\n  return (\r\n    <nav>\r\n      <ul className=\"nav\">\r\n        <li className=\"logout\"><a href=\"#logout\" onClick={onLogout}>Logout</a></li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import { useState } from 'react';\r\nimport { fetchCreateSession } from './services';\r\n\r\nconst Login = function({ onLogin }) {\r\n  const[username,setUsername] = useState('');\r\n  const[isDisabled,setIsDisabled]= useState(true);\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [status, setStatus] = useState('');\r\n\r\n  const onChange = (e) => {\r\n    setUsername(e.target.value);\r\n    setIsDisabled(!e.target.value);\r\n  };\r\n\r\n  const login = () => {\r\n    setIsPending(true);\r\n    fetchCreateSession({ username })\r\n    .then( userinfo => {\r\n      setStatus('');\r\n      setIsPending(false);\r\n      onLogin({ username});\r\n    })\r\n    .catch( err => {\r\n      setStatus(err.error);\r\n      setIsPending(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n  <div>\r\n    { status && <div class=\"status\">{status}</div>}\r\n    <div class = \"login-form\">\r\n    <label>\r\n      Username:\r\n      <input disabled = {isPending} onChange = {onChange} value = {username}></input>\r\n      <button onClick = {login} disabled ={isDisabled || isPending}>{ isPending ? \"...\":\"Login\"}</button>\r\n    </label>\r\n    </div>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Login;","const ChatUserList = ({ userList }) => {\r\n  return (\r\n    <div class = \"column left\" >\r\n      <h3 class = \"subtitle\">Users:</h3>\r\n      <ul>\r\n        {Object.values(userList).map( user => (\r\n          <li>\r\n            <div class=\"user\">\r\n            <span class=\"username\">{user.username}</span>\r\n            </div>\r\n          </li> ) ) }\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatUserList;","const ChatMessageList = ({ messageList }) => {\r\n  return (\r\n    <div class = \"column right\">\r\n    <h3 class = \"subtitle\">Messages:</h3>\r\n    <ul>\r\n      {Object.values(messageList).map( message => (\r\n        <li>\r\n          <div class=\"messages\">\r\n            <span class = \"messagetext\">{message.sender}:{message.text}</span>\r\n            <p>{message.timestamp}</p>\r\n          </div>\r\n      </li> ) ) }\r\n    </ul>\r\n    </div>\r\n  );\r\n};\r\n  \r\nexport default ChatMessageList;","import { useState} from 'react';\r\nimport {fetchSendMessage} from './services';\r\n\r\nconst ChatOutgoing = ({username,renderChat,setMessageList}) => {\r\n  \r\n  const [text, setText] = useState('');\r\n  const [isGreyedout, setisGreyedout] = useState(true);\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [statusmsg, setstatusmsg] = useState('');\r\n\r\n  const onChange = (e) => {\r\n    setstatusmsg('');\r\n    setText(e.target.value);\r\n    setisGreyedout(!e.target.value);\r\n  };\r\n    \r\n  const sendmessage= ()=> {\r\n    setisLoading(true);\r\n    fetchSendMessage({username ,text})\r\n    .then( chatList => {\r\n      setMessageList(chatList.messageList)\r\n      setText('');\r\n      setisGreyedout(true);\r\n      setstatusmsg('');\r\n      setisLoading(false);\r\n      renderChat({setMessageList});    \r\n    })\r\n    .catch( err => {\r\n      setText('');\r\n      setisGreyedout(true);\r\n      setstatusmsg(err.error);\r\n      setisLoading(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div> \r\n      { statusmsg && <div class=\"status\">{statusmsg}</div>}\r\n      <div class = \"send-form\">\r\n      <label>\r\n        Send Message:\r\n        <input disabled={isLoading} onChange={onChange} value={text} />\r\n      </label>\r\n      <button onClick={sendmessage} disabled={isGreyedout || isLoading} >{ isLoading ? \"...\" : \"Send\"}</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n  \r\nexport default ChatOutgoing;","import { useEffect, useState } from 'react';\r\nimport { fetchGetChat} from './services';\r\nimport ChatUserList from './ChatUserList';\r\nimport ChatMessageList from './ChatMessageList';\r\nimport ChatOutgoing from './ChatOutgoing';\r\n\r\nconst ShowStuff = ({ username }) => {\r\n\r\n  const [userList, setUserList] = useState('');\r\n  const [messageList, setMessageList] = useState('');\r\n  const [status, setStatus] = useState('');\r\n\r\n  useEffect(() => {\r\n    renderChat({setMessageList});\r\n    const intervalId = setInterval(() => {\r\n      renderChat({setMessageList});\r\n    }, 5000);\r\n    return function cleanup() {\r\n      clearInterval(intervalId);\r\n    };\r\n  },[]);\r\n  \r\n  const renderChat = ({setMessageList}) => {\r\n    fetchGetChat()\r\n    .then((chatList)=>{\r\n      setUserList(chatList.userList)\r\n      setMessageList(chatList.messageList)\r\n    })\r\n    .catch((err) => {\r\n      setStatus(err.error);\r\n  });\r\n}\r\n\r\nconst usercontent   = <ChatUserList userList = {userList}/>;\r\nconst messagecontent = <ChatMessageList messageList = {messageList}/>;\r\nconst outgoingcontent = <ChatOutgoing username = {username} renderChat={renderChat} setMessageList={setMessageList}/>;\r\n\r\n  return (\r\n    <div class = \"display-panel\">\r\n    { status && <div class=\"status\">{status}</div>}\r\n    <div class = \"row\">\r\n    {usercontent}\r\n    {messagecontent}\r\n    </div>\r\n    {outgoingcontent}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowStuff;","\r\nimport './App.css';\r\nimport { useState, useEffect } from 'react';\r\nimport { fetchEndSession, fetchCheckSession } from './services';\r\nimport Nav from './Nav';\r\nimport Login from './Login';\r\nimport ShowStuff from './ShowStuff';\r\n\r\nfunction App() {\r\n  const [userState,setUserState] = useState({ isLoggedIn: false, isPending: true });\r\n  const [userName,setUserName] = useState('');\r\n\r\n  useEffect( () => {\r\n    fetchCheckSession()\r\n    .then( userinfo => {\r\n      setUserState({\r\n        isLoggedIn: true,\r\n        isPending: false,\r\n      });\r\n      setUserName(userinfo.username);\r\n    })\r\n    .catch( () => {\r\n      setUserState({\r\n        isLoggedIn: false,\r\n        isPending: false,\r\n      });\r\n    });\r\n  }, []); \r\n\r\n  const login = function({username}) {\r\n    setUserState({\r\n      isLoggedIn: true,\r\n      isPending: false,\r\n    });\r\n    setUserName(username);\r\n  };\r\n\r\n  if(userState.isPending) {\r\n    return (\r\n      <div className=\"app\">\r\n        Loading...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const logout = function() {\r\n    setUserState({\r\n      ...userState,\r\n      isPending: true,\r\n    });\r\n    fetchEndSession()\r\n    .then( () => {\r\n      setUserState({\r\n        isLoggedIn: false,\r\n        isPending: false,\r\n      });\r\n    })\r\n    .catch( () => {\r\n      setUserState({\r\n        ...userState,\r\n        isPending: false,\r\n      });\r\n    });\r\n  };\r\n\r\n  let content;\r\n  if(userState.isLoggedIn) {\r\n    content = <ShowStuff username={userName}/>;\r\n  } \r\n  else {\r\n    content = <Login onLogin={login}/>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n    <h2 class = \"title\">Chat Room</h2>\r\n    <Nav user={userState} onLogout={logout}/>\r\n     {content}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"]}}